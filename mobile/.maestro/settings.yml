# Settings Screen Test
# Tests complete settings functionality
# Note: Assumes user is logged in

appId: com.aasimsyed.smartpantry
---
- launchApp
# Wait for app to load - if on login screen, wait for home
- runFlow:
    when:
      visible: "Sign In"
    commands:
      - extendedWaitUntil:
          visible: "Smart Pantry"
          timeout: 5000
# Navigate to Settings
- assertVisible:
    id: "home-title"
- tapOn:
    id: "quick-action-settings"
- assertVisible:
    id: "settings-title"
# Verify Settings screen elements
- assertVisible:
    id: "settings-title"
- assertVisible: "Appearance"
- assertVisible:
    id: "theme-light"
- assertVisible:
    id: "theme-system"
- assertVisible:
    id: "theme-dark"
# Test theme selection
- tapOn:
    id: "theme-light"
- tapOn:
    id: "theme-system"
- tapOn:
    id: "theme-dark"
# Verify AI Model Preferences section
- assertVisible: "AI Model Preferences"
- assertVisible:
    id: "ai-provider-default"
- assertVisible:
    id: "ai-provider-openai"
- assertVisible:
    id: "ai-provider-anthropic"
# Test AI provider selection
- tapOn:
    id: "ai-provider-openai"
# Verify AI model options appear (if provider selected)
- runFlow:
    when:
      visible: "AI Model"
    commands:
      - assertVisible:
          id: "ai-model-default"
      # Note: Specific model testIDs depend on available models
# Test save settings
- assertVisible:
    id: "save-settings-button"
# Note: Actually saving would require API connection
# Navigate back
- tapOn: "Main"
